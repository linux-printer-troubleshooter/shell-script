open_queue () { page='';while [[ $page == '' ]]; do var="hello bye Click Here";no=$( lpq -a | wc -l );no=$(( no-1 ));ass=$(lpq -a | tail -n$no | awk -F " " '{ print $3"\n"$2"\n"$1"\n"$4}' |  zenity --list --column="Job ID" --column="User" --column="Queue" --column=File  --width=400 --height=700 --text="select Job id.....\nPress OK to KILL\nPress Cancel to Open Printer URI" --title="Printer Job Queue" --cancel-label=... );page=$(echo $ass | awk -F "\n" '{print $1}');echo $ass;if [[ $page == '' ]];then page='x';troubleshoot_device ;else lprm $page;fi;done;} ;troubleshoot_device () { uri_list=$(lpinfo -l -v | grep -B 4 -C 2 "make-and-model = HP" | grep "uri =" | awk -F "uri = " '{print $2 }' | zenity --text="Listing Printer Uri\nCopy to clipboard" --height=400 --width=400 --title="Printer ID" --list --column=DeviceURI);echo $uri_list | xclip -selection clipboard ;} ;open_queue;#please change make-and-model code to list other printers as well (C)puneet bapna Thank YOU!
